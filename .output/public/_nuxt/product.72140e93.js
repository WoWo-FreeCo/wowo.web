import{b as p,c as ot,o as ct,q as nt,_ as y,aa as t,ae as _,y as e,J as U,G as z,ac as l,$ as w,a0 as C,C as u,i as it,F as J,V as Z,a7 as rt,aj as lt,f as dt,Z as v,a3 as ut,ak as _t,al as pt,ao as vt,ap as ht,a8 as ft,a9 as mt,am as bt}from"./swiper-vue.2e988726.js";import{a as yt,h as gt,g as wt,m as Ct,f as It,e as kt,u as St,E as xt,k as Mt}from"./entry.355d3b90.js";const n=h=>(ft("data-v-0d376616"),h=h(),mt(),h),$t={class:"full_height mt185ptb30"},Lt={class:"container"},Tt={class:"row product_flex"},qt={class:"col-md-6 col-sm-12 single-product-slider"},Vt={class:"product_frame"},Nt={class:"hot_sale"},Pt={class:"main_product"},At=["src"],Ft={class:"col-md-6 col-sm-12 single-product-details"},Rt=n(()=>t("ol",{class:"breadcrumb"},[t("li",null,[t("a",{href:"/"},"Home")]),t("li",null,[t("a",{href:"/shop"},"\u7522\u54C1\u4ECB\u7D39")])],-1)),Bt={class:"prod-name",title:"\u7522\u54C1\u540D\u7A31"},Dt={id:"productForm",action:"javascript:;"},Et={class:"product-price mt-0"},Ht=n(()=>t("span",{class:"price-title"},"\u5E02\u50F9",-1)),Ot=n(()=>t("span",{class:"m_icon"},"$",-1)),jt=n(()=>t("span",{class:"price-title"},"\u6703\u54E1",-1)),Gt=n(()=>t("span",{class:"m_icon"},"$",-1)),Ut=n(()=>t("span",{class:"price-title"},"VIP",-1)),zt=n(()=>t("span",{class:"m_icon"},"$",-1)),Jt=n(()=>t("span",{class:"price-title"},"SVIP",-1)),Zt=n(()=>t("span",{class:"m_icon"},"$",-1)),Kt={class:"howup_vip"},Qt=n(()=>t("i",{class:"fa-regular fa-circle-up"},null,-1)),Wt={class:"nums"},Xt={class:"mt-20 btns"},Yt=n(()=>t("i",{class:"fa-solid fa-cart-shopping"},null,-1)),ts=n(()=>t("i",{class:"fa-solid fa-dollar-sign"},null,-1)),ss={class:"product_tab mt-20"},as={class:"nav nav-tabs"},es=["onClick"],os={"data-toggle":"tab",href:"javascript:;","aria-expanded":"true"},cs=rt('<div class="tab-content" data-v-0d376616><div id="details" class="tab-pane fade active in" data-v-0d376616><div class="html-container" data-v-0d376616></div></div><div id="tab2" class="tab-pane fade" data-v-0d376616> 2 </div><div id="tab3" class="tab-pane fade" data-v-0d376616> 3 </div><div id="tab4" class="tab-pane fade" data-v-0d376616> 4 </div></div>',1),ns={__name:"product",setup(h){const i=gt(),f=wt(),K=Ct(),I=It(),g=kt(),Q=St(),W=p([]),o=p({}),k=p(!0),m=p(1),S=p(0),x=ot(()=>{var a;return(a=i.favMerch)==null?void 0:a.find(s=>s.id===o.value.id)});ct(async()=>{await nt(),await X(),$()});async function X(){var a;try{const s=await $fetch(`${Q.public.apiBase}/${xt((a=K.query)==null?void 0:a.id)}`);W.value=s.data;const c=s.data;if(!c)return Y();o.value=c}catch(s){console.log(s)}k.value=!1}function Y(){I.push({path:"/"})}async function M(a){try{const s=i.merch.find(c=>c.id===a.id);if(s){const c=(s==null?void 0:s.quantity)+m.value;await i.updateCartItem({type:a==null?void 0:a.attribute,cartItemId:s==null?void 0:s.cartItemId,productId:s==null?void 0:s.id,quantity:c}),g.success(`\u6B64\u5546\u54C1\u5DF2\u5B58\u5728\u8CFC\u7269\u8ECA\uFF0C\u76EE\u524D\u7E3D\u6578\uFF1A${c}`)}else await i.postCartItem({type:a==null?void 0:a.attribute,productId:a==null?void 0:a.id,quantity:1}),g.success("\u5546\u54C1\u5DF2\u52A0\u5165\u8CFC\u7269\u8ECA");await i.fetchCart()}catch(s){g.error(s.message),console.log(s)}}function tt(){i.favMerch.find(c=>c.id===o.value.id)?i.favMerch=i.favMerch.filter(c=>c.id!==o.value.id):i.favMerch.push(o.value);const s=i.favMerch;i.updateFavMerch(s)}async function st(a){await M(a);const s=(a==null?void 0:a.attribute)==="COLD_CHAIN"?{type:"cold-chain"}:{};I.push({path:"/cart",query:{...s}})}function $(a=0){var c,b;const s=document.querySelector(".html-container");s.innerHTML=(b=(c=o.value)==null?void 0:c.markdownInfos[a])==null?void 0:b.text,S.value=a}return(a,s)=>{var L,T,q,V,N,P,A,F,R,B,D,E,H,O,j,G;const c=bt,b=lt,at=Mt,et=dt("n-input-number");return v(),y("div",null,[t("section",$t,[t("div",Lt,[t("div",Tt,[t("div",qt,[t("div",Vt,[t("button",{class:"add_like",onClick:tt},[t("i",{class:_(["far fa-heart",{"fa-solid":e(x),"fa-heart":e(x)}])},null,2)]),U(t("div",Nt,[t("span",null,l((L=e(o))==null?void 0:L.brief),1)],512),[[z,(T=e(o))==null?void 0:T.brief]]),t("div",Pt,[w(b,{class:"swiper-root swiper-prod",modules:[e(_t),e(pt),e(vt),e(ht)],"slides-per-view":1,loop:!0,"initial-slide":1,effect:"creative",autoplay:{delay:4e3,disableOnInteraction:!0},"creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:C(()=>{var r;return[(v(!0),y(J,null,Z((r=e(o))==null?void 0:r.images,d=>(v(),ut(c,{key:d==null?void 0:d.img,class:"swiper-prod-slide"},{default:C(()=>[t("img",{src:d.img,alt:""},null,8,At)]),_:2},1024))),128))]}),_:1},8,["modules"])])])]),t("div",Ft,[Rt,t("h2",Bt,l((q=e(o))==null?void 0:q.name),1),t("form",Dt,[t("ul",Et,[t("li",{class:_({vip_price:!((V=e(f).user)!=null&&V.memberLevel)})},[Ht,Ot,u(l(((N=e(o))==null?void 0:N.price)||0),1)],2),t("li",{class:_({vip_price:((P=e(f).user)==null?void 0:P.memberLevel)==="NORMAL"})},[jt,Gt,u(l(((A=e(o))==null?void 0:A.memberPrice)||0),1)],2),t("li",{class:_({vip_price:((F=e(f).user)==null?void 0:F.memberLevel)==="VIP"})},[Ut,zt,u(l(((R=e(o))==null?void 0:R.vipPrice)||0),1)],2),t("li",{class:_({vip_price:((B=e(f).user)==null?void 0:B.memberLevel)==="SVIP"})},[Jt,Zt,u(l(((D=e(o))==null?void 0:D.svipPrice)||0),1)],2)]),t("span",Kt,[Qt,w(at,{to:"/profile"},{default:C(()=>[u("\u6211\u8981\u5347\u7B49")]),_:1})]),t("div",Wt,[U(w(et,{value:e(m),"onUpdate:value":s[0]||(s[0]=r=>it(m)?m.value=r:null),min:1,max:(H=(E=e(o))==null?void 0:E.inventory)==null?void 0:H.quantity,style:{width:"150px"}},null,8,["value","max"]),[[z,!e(k)]]),t("span",null,"\u5EAB\u5B58\uFF1A"+l(((j=(O=e(o))==null?void 0:O.inventory)==null?void 0:j.quantity)||0),1)]),t("div",Xt,[t("button",{class:"btn btn-main btn-bag",onClick:s[1]||(s[1]=r=>M(e(o)))},[Yt,u("\u52A0\u5165\u8CFC\u7269\u8ECA ")]),t("button",{type:"submit",class:"go_cart btn btn-main btn-check",onClick:s[2]||(s[2]=r=>st(e(o)))},[ts,u(" \u7ACB\u5373\u7D50\u5E33 ")])])])])]),t("div",ss,[t("ul",as,[(v(!0),y(J,null,Z((G=e(o))==null?void 0:G.markdownInfos,(r,d)=>(v(),y("li",{key:r.title,class:_({active:e(S)===d}),onClick:is=>$(d)},[t("a",os,l(r.title),1)],10,es))),128))]),cs])])])])}}},ds=yt(ns,[["__scopeId","data-v-0d376616"]]);export{ds as default};
