import{a as L,u as O,k as j}from"./entry.96dc2463.js";import{b as f,w as U,o as F,q as H,_,y as n,a3 as y,a0 as c,ab as M,aa as t,F as m,V as w,J as P,G as B,$ as u,aj as q,Z as l,ak as z,al as J,ad as Y,ae as r,C as p,am as Z,a8 as K,a9 as Q}from"./swiper-vue.d582d122.js";import{u as W}from"./cookie.9406ab52.js";import{u as X}from"./cartStore.391fa2af.js";import{h as ss,a as ts,c as as}from"./requestURL.6ae00f75.js";const I=""+new URL("1.bcb2cf70.jpg",import.meta.url).href;const i=h=>(K("data-v-112f982e"),h=h(),Q(),h),os=["src"],es={class:"text-center full_height"},ns={class:"sub_menubar"},cs={class:"container tabCommon"},ls={class:"nav nav-tabs bbottom_none labels-flex"},rs=["onClick"],is={href:"javascript:;","data-toggle":"tab"},ds={class:"container tabCommon"},_s={class:"tab-content text-left"},us={id:"cate_1",class:"tab-pane fade active in"},ps={class:"index_pslide"},fs={class:"product_img"},hs=["src"],vs=i(()=>t("span",null,"\u5E02\u5834\u50F9",-1)),bs=i(()=>t("span",null,"\u6703\u54E1\u50F9",-1)),Cs=i(()=>t("span",null,"VIP\u50F9",-1)),xs=i(()=>t("span",null,"SVIP\u50F9",-1)),$s=["onClick"],ks=i(()=>t("button",null,[t("i",{class:"fa-solid fa-cart-shopping"})],-1)),gs=[ks],ms={class:"not-found"},ws={class:"index_ad"},Ss=i(()=>t("img",{src:I,alt:""},null,-1)),ys=i(()=>t("img",{src:I,alt:""},null,-1)),Ps={__name:"index",setup(h){const b=O(),T=W("emap_711",{maxAge:60*60*24}),C={id:-1,name:"\u6240\u6709\u7522\u54C1"},x=f(C.id),S=f([]),$=f([]),k=f([]),g=X();let d=f([]);U(x,a=>{if(a===C.id){d=$.value;return}d=$.value.filter(o=>o.categoryId===a)}),F(async()=>{await H(),E(),console.log(T.value)});function E(){N(),V(),R()}async function N(){try{const a=await $fetch(`${b.public.apiBase}/${ss}`),{data:o}=a;k.value=o,console.log(o)}catch{}}async function V(){try{const a=await $fetch(`${b.public.apiBase}/${ts}`),{data:o}=a;S.value=[C,...o]}catch{}}async function R(){try{const a=await $fetch(`${b.public.apiBase}/${as}?take=15`),{data:o}=a;$.value=o,d.value=o,console.log(d.value,o)}catch{}}function A(a){const o=g.merch.find(e=>e.id===a.id);o?o.amount++:g.merch.push({...a,amount:1}),console.log(g.merch)}return(a,o)=>{const e=j,D=Z,G=q;return l(),_("div",null,[n(k)?(l(),y(G,{key:0,class:"swiper-root",modules:[n(z),n(J)],"slides-per-view":1,loop:!0,effect:"creative",autoplay:{delay:4e3,disableOnInteraction:!0},"creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:c(()=>[(l(!0),_(m,null,w(n(k),s=>(l(),y(D,{key:s.id},{default:c(()=>[u(e,{to:`${s.href}`},{default:c(()=>[t("img",{src:s.img,alt:""},null,8,os)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])):M("",!0),t("section",es,[t("div",ns,[t("div",cs,[t("ul",ls,[(l(!0),_(m,null,w(n(S),s=>(l(),_("li",{key:s.id,class:Y({active:n(x)===(s==null?void 0:s.id)}),onClick:v=>x.value=s==null?void 0:s.id},[t("a",is,r(s.name),1)],10,rs))),128))])])]),t("div",ds,[t("div",_s,[t("div",us,[t("div",ps,[(l(!0),_(m,null,w(n(d),s=>(l(),_("div",{key:s.key,class:"product_frame"},[P(t("div",{class:"hot_sale2"},r(s.brief),513),[[B,s==null?void 0:s.brief]]),t("div",fs,[u(e,{to:`/product?id=${s==null?void 0:s.id}`},{default:c(()=>{var v;return[t("img",{src:((v=s==null?void 0:s.thumbnail)==null?void 0:v.url)||`https://picsum.photos/500/500?${s.id}`,alt:""},null,8,hs)]}),_:2},1032,["to"])]),t("h3",null,[u(e,{to:`/product?id=${s==null?void 0:s.id}`},{default:c(()=>[p(r(s.name),1)]),_:2},1032,["to"])]),t("ul",null,[t("li",null,[p(" $"+r(s==null?void 0:s.price)+" ",1),vs]),t("li",null,[p(" $"+r(s==null?void 0:s.memberPrice)+" ",1),bs]),t("li",null,[p(" $"+r(s==null?void 0:s.vipPrice)+" ",1),Cs]),t("li",null,[p(" $"+r(s==null?void 0:s.svipPrice)+" ",1),xs]),t("li",{onClick:v=>A(s)},gs,8,$s)])]))),128)),P(t("span",ms,"\u76EE\u524D\u6C92\u6709\u8A72\u985E\u5225\u7684\u7522\u54C1",512),[[B,!n(d).length]])])])]),u(e,{to:"/shop",class:"btn btn-main btn-large btn-more mt-50"},{default:c(()=>[p(" \u66F4\u591A\u5546\u54C1 ")]),_:1})])]),t("div",ws,[u(e,{to:"/bid"},{default:c(()=>[Ss]),_:1}),u(e,{to:"/bid"},{default:c(()=>[ys]),_:1})])])}}},Vs=L(Ps,[["__scopeId","data-v-112f982e"]]);export{Vs as default};
