import{g as L,b as R,h as A}from"./entry.190e60b0.js";import{b as V,c as b,o as $,a6 as u,a8 as e,F as B,V as T,v as o,H as _,D as U,A as r,ae as a,ac as m,i as D,a0 as I,$ as M,a7 as w,Z as h}from"./swiper-vue.08c57f7b.js";import{u as j}from"./authStore.3aea4787.js";import{u as q}from"./cartStore.1835ddc7.js";const F={class:"full_height mt185ptb30"},G={id:"checkout_form",action:"javascript:;",class:"cart_container"},O={class:"cart_list"},H={class:"cart_img"},Z=["src"],z={class:"cart_tl"},J={class:"product-quantity"},K=e("span",null,"\u6EFF\u4EF6\u514D\u904B",-1),Q={class:"cart_price text-right"},W={class:"cart_info"},X=e("h5",null,"\u5BC4\u9001\u65B9\u5F0F",-1),Y={class:"checkout-form"},S=e("label",{class:"radio form-check"},[e("input",{type:"radio",name:"shipping",value:"ship_home",checked:""}),r(" \u5B85\u914D\u5230\u5E9C ")],-1),ee={class:"radio form-check"},se=e("input",{type:"radio",name:"shipping",value:"ship_market"},null,-1),te={class:"cart_info"},oe=e("h5",null,"\u4ED8\u6B3E\u65B9\u5F0F",-1),ce={class:"checkout-form"},ne={key:0},ae=e("label",{class:"radio form-check"},[e("input",{type:"radio",name:"payment",value:"",checked:""}),r(" \u4FE1\u7528\u5361 ")],-1),le=[ae],re={key:1},ie=e("label",{class:"radio form-check"},[e("input",{type:"radio",name:"payment",value:"",checked:""}),r(" \u8F49\u5E33\u532F\u6B3E ")],-1),de=[ie],ue={class:"cart_info"},_e={class:"checkout-form"},he=["max"],pe={id:"ship_home_form",class:"cart_info"},me=e("h5",null,"\u6536\u4EF6\u4EBA\u8CC7\u8A0A",-1),fe={class:"ship_info"},ve=e("input",{id:"shipday",type:"datetime-local",placeholder:"\u8ACB\u9078\u64C7\u53EF\u6536\u8CA8\u65E5\u671F",class:"form-control",name:""},null,-1),be=w('<div class="cart_info checkout-form"><h5>\u767C\u7968\u8CC7\u8A0A</h5><div class="ship_info"><input id="" type="text" placeholder="\u8ACB\u8F38\u5165\u8F09\u5177\u865F\u78BC" class="form-control" name=""></div><label class="checkbox pt10 pb10"><input id="change-image" type="checkbox"> \u767C\u7968\u8981\u6253\u7D71\u7DE8 </label><div class="invoice_form d_none"><h5>\u7D71\u7DE8\u8CC7\u8A0A</h5><div class="ship_info"><input id="" type="text" placeholder="\u7D71\u4E00\u7DE8\u865F*" class="form-control" name=""><input id="" type="text" placeholder="\u767C\u7968\u62AC\u982D*" class="form-control" name=""><input id="" type="email" placeholder="\u767C\u7968\u6536\u53D6E-mail" class="form-control" name=""></div></div></div><div class="cart_info checkout-form"><h5>\u8A02\u55AE\u5099\u8A3B</h5><textarea id="" rows="6" placeholder="\u8ACB\u8F38\u5165\u5167\u5BB9" class="form-control" name=""></textarea></div>',2),ke={class:"cart_info"},ye=e("h5",null,"\u4ED8\u6B3E\u660E\u7D30",-1),xe={class:"cart_check"},ge=e("li",null," \u904B\u8CBB\uFF1A\u514D\u904B ",-1),Ve={class:"border_top"},we=w('<div class="cart_info checkout-form ptb10"><label class="checkbox"><input id="check_service" type="checkbox"> \u6211\u5DF2\u7D93\u95B1\u8B80\u4E26\u540C\u610F\u4EE5\u4E0A\u8CFC\u8CB7\u9808\u77E5\u3001 <a href="/terms" target="new">\u6703\u54E1\u4F7F\u7528\u689D\u6B3E</a>\u8207<a href="/privacy" target="new">\u96B1\u79C1\u6B0A\u653F\u7B56</a>\uFF0C\u6B64\u6B04\u4F4D\u52FE\u9078\u624D\u53EF\u9001\u51FA\u3002 </label></div><div class="text-center mb-20 mt-20"><span id="errormsg"></span></div>',2),Ce={class:"text-center mb-20 mt-20"},Ae={__name:"checkout",setup(Ne){const C=L(),N=R(),c=j(),l=q(),i=V(0),d=V("normal"),f=b({get:()=>v.value.reduce((s,n)=>s+y(n)*n.amount,0),set:s=>{f.value=s}}),k=b(()=>{var s;return((s=c==null?void 0:c.user)==null?void 0:s.rewardCredit)||0}),v=b(()=>d.value==="cold-chain"?l==null?void 0:l.merch.filter(s=>s.attribute!=="GENERAL"):l==null?void 0:l.merch.filter(s=>s.attribute==="GENERAL"));$(()=>{P()});function P(){switch(C.query.type){case"cold-chain":d.value="cold-chain";break;default:d.value="normal";break}}const y=s=>{var n,p;return((n=c==null?void 0:c.user)==null?void 0:n.memberLevel)==="SVIP"?s==null?void 0:s.svipPrice:((p=c==null?void 0:c.user)==null?void 0:p.memberLevel)==="VIP"?s==null?void 0:s.vipPrice:c.status.loggedIn?s==null?void 0:s.memberPrice:s==null?void 0:s.price};function E(){alert("\u606D\u559C\u8CFC\u8CB7\u5B8C\u6210\uFF01\u6B61\u8FCE\u7E7C\u7E8C\u9078\u8CFC"),l.merch=[],N.push({path:"/shop"})}return(s,n)=>{const p=A;return h(),u("div",F,[e("form",G,[e("table",O,[e("tbody",null,[(h(!0),u(B,null,T(o(v),t=>{var x,g;return h(),u("tr",{key:t.id},[e("td",H,[e("img",{src:((x=t==null?void 0:t.thumbnail)==null?void 0:x.url)||"/products/p"+(t.id-10)+".jpg"},null,8,Z)]),e("td",z,[e("h5",null,a(t==null?void 0:t.name),1),e("div",J," x"+a(t==null?void 0:t.amount),1),K]),e("td",Q,[e("span",null,"\u5E02\u50F9 $"+a((g=t==null?void 0:t.price)==null?void 0:g.market),1),r(" \u50F9\u9322 $"+a(y(t)),1)])])}),128))])]),e("div",W,[X,e("div",Y,[S,_(e("label",ee,[se,r(" \u8D85\u5546\u53D6\u8CA8 ")],512),[[U,o(d)==="normal"]])])]),e("div",te,[oe,e("div",ce,[o(d)==="normal"?(h(),u("div",ne,le)):(h(),u("div",re,de))])]),e("div",ue,[e("h5",null,"\u7D05\u5229\u6263\u9EDE (\u76EE\u524D\u53EF\u7528\u7D05\u5229\uFF1A"+a(o(k))+" \u9EDE)",1),e("div",_e,[_(e("input",{id:"","onUpdate:modelValue":n[0]||(n[0]=t=>D(i)?i.value=t:null),type:"number",min:"0",max:o(k),placeholder:"\u8ACB\u8F38\u5165\u672C\u6B21\u9810\u4F7F\u7528\u7D05\u5229",class:"form-control",name:""},null,8,he),[[m,o(i)]])])]),e("div",pe,[me,e("div",fe,[_(e("input",{id:"ship_name2","onUpdate:modelValue":n[1]||(n[1]=t=>o(c).user.nickname=t),type:"text",placeholder:"\u59D3\u540D*",class:"form-control",name:""},null,512),[[m,o(c).user.nickname]]),_(e("input",{id:"ship_phone2","onUpdate:modelValue":n[2]||(n[2]=t=>o(c).user.cellphone=t),type:"text",placeholder:"\u624B\u6A5F*",class:"form-control",name:""},null,512),[[m,o(c).user.cellphone]]),_(e("input",{id:"ship_address","onUpdate:modelValue":n[3]||(n[3]=t=>o(c).user.addressOne=t),type:"text",placeholder:"\u5730\u5740*",class:"form-control",name:""},null,512),[[m,o(c).user.addressOne]]),ve])]),be,e("div",ke,[ye,e("ul",xe,[e("li",null," \u5546\u54C1\u91D1\u984D\u5C0F\u8A08 (\u5171"+a(o(v).length)+"\u9805\u5546\u54C1)\uFF1A$"+a(o(f)),1),ge,e("li",null," \u7D05\u5229\u6263\u9EDE\uFF1A"+a(o(i)),1),e("li",Ve,[r(" \u8A02\u55AE\u7E3D\u91D1\u984D\uFF1A"),e("span",null,"$"+a(o(f)-o(i)),1)])])]),we,e("div",Ce,[I(p,{type:"button",class:"btn btn-main btn-default",to:"/cart"},{default:M(()=>[r(" \u4E0A\u4E00\u9801 ")]),_:1}),e("input",{id:"",type:"submit",class:"btn btn-main btn-check check_service_btn submit_home",value:"\u78BA\u8A8D\u9001\u51FA",onClick:E})])])])}}};export{Ae as default};
