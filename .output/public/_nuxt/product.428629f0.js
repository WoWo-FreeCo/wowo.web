import{b as v,c as et,o as st,q as at,_ as g,aa as t,ad as p,y as e,J as j,G,ae as r,$ as y,a0 as C,C as u,i as ot,F as J,V as U,a7 as it,ak as nt,f as ct,Z as h,a3 as lt,al as rt,am as dt,ap as ut,aq as _t,a8 as pt,a9 as vt,an as ht}from"./swiper-vue.6d0a2b42.js";import{a as mt,J as ft,q as bt,H as gt,r as wt,u as yt,V as Ct,C as St}from"./entry.e0dd610b.js";const n=m=>(pt("data-v-d8404eb0"),m=m(),vt(),m),kt={class:"full_height mt185ptb30"},xt={class:"container"},It={class:"row product_flex"},Pt={class:"col-md-6 col-sm-12 single-product-slider"},Mt={class:"product_frame"},Lt={class:"hot_sale"},Tt={class:"main_product"},$t=["src"],Vt={class:"col-md-6 col-sm-12 single-product-details"},qt=n(()=>t("ol",{class:"breadcrumb"},[t("li",null,[t("a",{href:"/"},"Home")]),t("li",null,[t("a",{href:"/shop"},"\u7522\u54C1\u4ECB\u7D39")])],-1)),Nt={class:"prod-name",title:"\u7522\u54C1\u540D\u7A31"},At={id:"productForm",action:"javascript:;"},Ft={class:"product-price mt-0"},Rt=n(()=>t("span",{class:"price-title"},"\u5E02\u50F9",-1)),Bt=n(()=>t("span",{class:"m_icon"},"$",-1)),Dt=n(()=>t("span",{class:"price-title"},"\u6703\u54E1",-1)),Ht=n(()=>t("span",{class:"m_icon"},"$",-1)),Et=n(()=>t("span",{class:"price-title"},"VIP",-1)),Ot=n(()=>t("span",{class:"m_icon"},"$",-1)),jt=n(()=>t("span",{class:"price-title"},"SVIP",-1)),Gt=n(()=>t("span",{class:"m_icon"},"$",-1)),Jt={class:"howup_vip"},Ut=n(()=>t("i",{class:"fa-regular fa-circle-up"},null,-1)),zt={class:"nums"},Zt={class:"mt-20 btns"},Kt=n(()=>t("i",{class:"fa-solid fa-cart-shopping"},null,-1)),Qt=n(()=>t("i",{class:"fa-solid fa-dollar-sign"},null,-1)),Wt={class:"product_tab mt-20"},Xt={class:"nav nav-tabs"},Yt=["onClick"],te={"data-toggle":"tab",href:"javascript:;","aria-expanded":"true"},ee=it('<div class="tab-content" data-v-d8404eb0><div id="details" class="tab-pane fade active in" data-v-d8404eb0><div class="html-container" data-v-d8404eb0></div></div><div id="tab2" class="tab-pane fade" data-v-d8404eb0> 2 </div><div id="tab3" class="tab-pane fade" data-v-d8404eb0> 3 </div><div id="tab4" class="tab-pane fade" data-v-d8404eb0> 4 </div></div>',1),se={__name:"product",setup(m){const c=ft(),f=bt(),z=gt(),S=wt(),Z=yt(),K=v([]),a=v({}),k=v(!0),b=v(1),x=v(0),I=et(()=>{var o;return(o=c.favMerch)==null?void 0:o.find(s=>s.id===a.value.id)});st(async()=>{await at(),await Q(),M()});async function Q(){var o;try{const s=await $fetch(`${Z.public.apiBase}/${Ct((o=z.query)==null?void 0:o.id)}`);K.value=s.data;const i=s.data;if(!i)return W();a.value=i}catch(s){console.log(s)}k.value=!1}function W(){S.push({path:"/"})}function P(o){const s=c.merch.find(w=>w.id===o.id),i=b.value;s?s.amount=i:c.merch.push({...o,amount:i});const _=c.merch;c.updateMerch(_)}function X(){c.favMerch.find(i=>i.id===a.value.id)?c.favMerch=c.favMerch.filter(i=>i.id!==a.value.id):c.favMerch.push(a.value);const s=c.favMerch;c.updateFavMerch(s)}function Y(o){P(o);const s=(o==null?void 0:o.attribute)==="COLD_CHAIN"?{type:"cold-chain"}:{};S.push({path:"/cart",query:{...s}})}function M(o=0){var i,_;const s=document.querySelector(".html-container");s.innerHTML=(_=(i=a.value)==null?void 0:i.markdownInfos[o])==null?void 0:_.text,x.value=o}return(o,s)=>{var L,T,$,V,q,N,A,F,R,B,D,H,E,O;const i=ht,_=nt,w=St,tt=ct("n-input-number");return h(),g("div",null,[t("section",kt,[t("div",xt,[t("div",It,[t("div",Pt,[t("div",Mt,[t("button",{class:"add_like",onClick:X},[t("i",{class:p(["far fa-heart",{"fa-solid":e(I),"fa-heart":e(I)}])},null,2)]),j(t("div",Lt,[t("span",null,r((L=e(a))==null?void 0:L.brief),1)],512),[[G,(T=e(a))==null?void 0:T.brief]]),t("div",Tt,[y(_,{class:"swiper-root swiper-prod",modules:[e(rt),e(dt),e(ut),e(_t)],"slides-per-view":1,loop:!0,"initial-slide":1,effect:"creative",autoplay:{delay:4e3,disableOnInteraction:!0},"creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:C(()=>{var l;return[(h(!0),g(J,null,U((l=e(a))==null?void 0:l.images,d=>(h(),lt(i,{key:d==null?void 0:d.img,class:"swiper-prod-slide"},{default:C(()=>[t("img",{src:d.img,alt:""},null,8,$t)]),_:2},1024))),128))]}),_:1},8,["modules"])])])]),t("div",Vt,[qt,t("h2",Nt,r(($=e(a))==null?void 0:$.name),1),t("form",At,[t("ul",Ft,[t("li",{class:p({vip_price:!((V=e(f).user)!=null&&V.memberLevel)})},[Rt,Bt,u(r(((q=e(a))==null?void 0:q.price)||0),1)],2),t("li",{class:p({vip_price:((N=e(f).user)==null?void 0:N.memberLevel)==="NORMAL"})},[Dt,Ht,u(r(((A=e(a))==null?void 0:A.memberPrice)||0),1)],2),t("li",{class:p({vip_price:((F=e(f).user)==null?void 0:F.memberLevel)==="VIP"})},[Et,Ot,u(r(((R=e(a))==null?void 0:R.vipPrice)||0),1)],2),t("li",{class:p({vip_price:((B=e(f).user)==null?void 0:B.memberLevel)==="SVIP"})},[jt,Gt,u(r(((D=e(a))==null?void 0:D.svipPrice)||0),1)],2)]),t("span",Jt,[Ut,y(w,{to:"/profile"},{default:C(()=>[u("\u6211\u8981\u5347\u7B49")]),_:1})]),t("div",zt,[j(y(tt,{value:e(b),"onUpdate:value":s[0]||(s[0]=l=>ot(b)?b.value=l:null),min:1,style:{width:"150px"}},null,8,["value"]),[[G,!e(k)]]),t("span",null,"\u5EAB\u5B58\uFF1A"+r(((E=(H=e(a))==null?void 0:H.inventory)==null?void 0:E.quantity)||0),1)]),t("div",Zt,[t("button",{class:"btn btn-main btn-bag",onClick:s[1]||(s[1]=l=>P(e(a)))},[Kt,u("\u52A0\u5165\u8CFC\u7269\u8ECA ")]),t("button",{type:"submit",class:"go_cart btn btn-main btn-check",onClick:s[2]||(s[2]=l=>Y(e(a)))},[Qt,u(" \u7ACB\u5373\u7D50\u5E33 ")])])])])]),t("div",Wt,[t("ul",Xt,[(h(!0),g(J,null,U((O=e(a))==null?void 0:O.markdownInfos,(l,d)=>(h(),g("li",{key:l.title,class:p({active:e(x)===d}),onClick:ae=>M(d)},[t("a",te,r(l.title),1)],10,Yt))),128))]),ee])])])])}}},ne=mt(se,[["__scopeId","data-v-d8404eb0"]]);export{ne as default};
