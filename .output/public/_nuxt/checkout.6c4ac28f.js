import{g as C,b as E,h as R}from"./entry.8c805425.js";import{b as x,c as g,o as S,a6 as d,a8 as e,F as T,V as $,v as a,H as V,D as B,A as l,ac as I,i as L,ae as n,a0 as M,$ as D,a7 as m,Z as h}from"./swiper-vue.08c57f7b.js";import{u as j}from"./authStore.65c45ba4.js";import{u as q}from"./cartStore.6784a142.js";const F={class:"full_height mt185ptb30"},G={id:"checkout_form",action:"javascript:;",class:"cart_container"},H={class:"cart_list"},U={class:"cart_img"},Z=["src"],z={class:"cart_tl"},J={class:"product-quantity"},K=e("span",null,"\u6EFF\u4EF6\u514D\u904B",-1),O={class:"cart_price text-right"},Q={class:"cart_info"},W=e("h5",null,"\u5BC4\u9001\u65B9\u5F0F",-1),X={class:"checkout-form"},Y=e("label",{class:"radio form-check"},[e("input",{type:"radio",name:"shipping",value:"ship_home",checked:""}),l(" \u5B85\u914D\u5230\u5E9C ")],-1),ee={class:"radio form-check"},te=e("input",{type:"radio",name:"shipping",value:"ship_market"},null,-1),se={class:"cart_info"},ae=e("h5",null,"\u4ED8\u6B3E\u65B9\u5F0F",-1),oe={class:"checkout-form"},ce={key:0},ne=m('<label class="radio form-check"><input type="radio" name="payment" value="" checked> \u4FE1\u7528\u5361 </label><label class="radio form-check"><input type="radio" name="payment" value=""> ATM \u8F49\u5E33 </label><label class="radio form-check"><input type="radio" name="payment" value=""> \u8D85\u5546\u689D\u78BC\u4ED8\u6B3E </label><label class="radio form-check"><input type="radio" name="payment" value=""> \u8D85\u5546\u4EE3\u78BC\u4ED8\u6B3E </label><label class="radio form-check"><input type="radio" name="payment" value=""> \u8CA8\u5230\u4ED8\u6B3E </label>',5),le=[ne],re={key:1},ie=e("label",{class:"radio form-check"},[e("input",{type:"radio",name:"payment",value:"",checked:""}),l(" \u8F49\u5E33\u532F\u6B3E ")],-1),de=[ie],he={class:"cart_info"},pe=e("h5",null,"\u7D05\u5229\u6263\u9EDE (\u76EE\u524D\u53EF\u7528\u7D05\u5229\uFF1A100\u9EDE)",-1),ue={class:"checkout-form"},_e=m('<div id="ship_market_form" class="cart_info d_none"><h5>\u6536\u4EF6\u4EBA\u8CC7\u8A0A</h5><div class="ship_info"><input id="ship_name1" type="text" placeholder="\u59D3\u540D*" class="form-control" name=""><input id="ship_phone1" type="text" placeholder="\u624B\u6A5F*" class="form-control" name=""><input id="ship_marketname" type="text" placeholder="\u8ACB\u9078\u64C7\u9580\u5E02*" class="form-control" name=""></div></div><div id="ship_home_form" class="cart_info"><h5>\u6536\u4EF6\u4EBA\u8CC7\u8A0A</h5><div class="ship_info"><input id="ship_name2" type="text" placeholder="\u59D3\u540D*" class="form-control" name=""><input id="ship_phone2" type="text" placeholder="\u624B\u6A5F*" class="form-control" name=""><input id="ship_address" type="text" placeholder="\u5730\u5740*" class="form-control" name=""><input id="shipday" type="text" placeholder="\u8ACB\u9078\u64C7\u53EF\u6536\u8CA8\u65E5\u671F" class="form-control" name=""></div></div><div class="cart_info checkout-form"><h5>\u767C\u7968\u8CC7\u8A0A</h5><div class="ship_info"><input id="" type="text" placeholder="\u8ACB\u8F38\u5165\u8F09\u5177\u865F\u78BC" class="form-control" name=""></div><label class="checkbox pt10 pb10"><input id="change-image" type="checkbox"> \u767C\u7968\u8981\u6253\u7D71\u7DE8 </label><div class="invoice_form d_none"><h5>\u7D71\u7DE8\u8CC7\u8A0A</h5><div class="ship_info"><input id="" type="text" placeholder="\u7D71\u4E00\u7DE8\u865F*" class="form-control" name=""><input id="" type="text" placeholder="\u767C\u7968\u62AC\u982D*" class="form-control" name=""><input id="" type="email" placeholder="\u767C\u7968\u6536\u53D6E-mail" class="form-control" name=""></div></div></div><div class="cart_info checkout-form"><h5>\u8A02\u55AE\u5099\u8A3B</h5><textarea id="" rows="6" placeholder="\u8ACB\u8F38\u5165\u5167\u5BB9" class="form-control" name=""></textarea></div>',4),me={class:"cart_info"},fe=e("h5",null,"\u4ED8\u6B3E\u660E\u7D30",-1),ve={class:"cart_check"},be=e("li",null," \u904B\u8CBB\uFF1A\u514D\u904B ",-1),ye={class:"border_top"},ke=m('<div class="cart_info checkout-form ptb10"><label class="checkbox"><input id="check_service" type="checkbox"> \u6211\u5DF2\u7D93\u95B1\u8B80\u4E26\u540C\u610F\u4EE5\u4E0A\u8CFC\u8CB7\u9808\u77E5\u3001 <a href="/terms" target="new">\u6703\u54E1\u4F7F\u7528\u689D\u6B3E</a>\u8207<a href="/privacy" target="new">\u96B1\u79C1\u6B0A\u653F\u7B56</a>\uFF0C\u6B64\u6B04\u4F4D\u52FE\u9078\u624D\u53EF\u9001\u51FA\u3002 </label></div><div class="text-center mb-20 mt-20"><span id="errormsg"></span></div>',2),xe={class:"text-center mb-20 mt-20"},Ne={__name:"checkout",setup(ge){const A=C(),P=E(),u=j(),o=q(),r=x(0),i=x("normal"),_=g({get:()=>f.value.reduce((t,c)=>t+v(c)*c.amount,0),set:t=>{_.value=t}}),f=g(()=>i.value==="cold-chain"?o==null?void 0:o.merch.filter(t=>t.attribute!=="GENERAL"):o==null?void 0:o.merch.filter(t=>t.attribute==="GENERAL"));S(()=>{w()});function w(){switch(A.query.type){case"cold-chain":i.value="cold-chain";break;default:i.value="normal";break}}const v=t=>{var c,p;return(c=u.user)!=null&&c.SVIPActivated?t==null?void 0:t.svipPrice:(p=u.user)!=null&&p.VIPActivated?t==null?void 0:t.vipPrice:u.status.loggedIn?t==null?void 0:t.memberPrice:t==null?void 0:t.price};function N(){alert("\u606D\u559C\u8CFC\u8CB7\u5B8C\u6210\uFF01\u6B61\u8FCE\u7E7C\u7E8C\u9078\u8CFC"),o.merch=[],P.push({path:"/shop"})}return(t,c)=>{var b;const p=R;return h(),d("div",F,[e("form",G,[e("table",H,[e("tbody",null,[(h(!0),d(T,null,$(a(f),s=>{var y,k;return h(),d("tr",{key:s.id},[e("td",U,[e("img",{src:((y=s==null?void 0:s.thumbnail)==null?void 0:y.url)||"/products/p"+(s.id-10)+".jpg"},null,8,Z)]),e("td",z,[e("h5",null,n(s==null?void 0:s.name),1),e("div",J," x"+n(s==null?void 0:s.amount),1),K]),e("td",O,[e("span",null,"\u5E02\u50F9 $"+n((k=s==null?void 0:s.price)==null?void 0:k.market),1),l(" SVIP\u50F9 $"+n(v(s)),1)])])}),128))])]),e("div",Q,[W,e("div",X,[Y,V(e("label",ee,[te,l(" \u8D85\u5546\u53D6\u8CA8 ")],512),[[B,a(i)==="normal"]])])]),e("div",se,[ae,e("div",oe,[a(i)==="normal"?(h(),d("div",ce,le)):(h(),d("div",re,de))])]),e("div",he,[pe,e("div",ue,[V(e("input",{id:"","onUpdate:modelValue":c[0]||(c[0]=s=>L(r)?r.value=s:null),type:"number",placeholder:"\u8ACB\u8F38\u5165\u672C\u6B21\u9810\u4F7F\u7528\u7D05\u5229",class:"form-control",name:""},null,512),[[I,a(r)]])])]),_e,e("div",me,[fe,e("ul",ve,[e("li",null," \u5546\u54C1\u91D1\u984D\u5C0F\u8A08 (\u5171"+n((b=a(o))==null?void 0:b.merch.length)+"\u9805\u5546\u54C1)\uFF1A$"+n(a(_)),1),be,e("li",null," \u7D05\u5229\u6263\u9EDE\uFF1A"+n(a(r)),1),e("li",ye,[l(" \u8A02\u55AE\u7E3D\u91D1\u984D\uFF1A"),e("span",null,"$"+n(a(_)-a(r)),1)])])]),ke,e("div",xe,[M(p,{type:"button",class:"btn btn-main btn-default",to:"/cart"},{default:D(()=>[l(" \u4E0A\u4E00\u9801 ")]),_:1}),e("input",{id:"",type:"submit",class:"btn btn-main btn-check check_service_btn submit_home",value:"\u78BA\u8A8D\u9001\u51FA",onClick:N})])])])}}};export{Ne as default};
