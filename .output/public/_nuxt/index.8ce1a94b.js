import{a as O,u as R,k as L}from"./entry.f1075444.js";import{b as _,w as j,o as F,q as H,_ as d,y as e,a3 as y,a0 as i,ab as M,aa as a,F as g,V as S,J as P,G as B,$ as v,aj as U,Z as n,ak as q,al as z,ad as J,ae as c,C as u,am as Y,a8 as Z,a9 as K}from"./swiper-vue.d582d122.js";import{u as Q}from"./cookie.50f49cf4.js";import{u as W}from"./cartStore.ef01ecb8.js";import{h as X,a as ss,c as as}from"./requestURL.6ae00f75.js";const p=h=>(Z("data-v-59375507"),h=h(),K(),h),ts=["src"],os={class:"text-center full_height"},es={class:"sub_menubar"},ns={class:"container tabCommon"},cs={class:"nav nav-tabs bbottom_none labels-flex"},ls=["onClick"],rs={href:"javascript:;","data-toggle":"tab"},ds={class:"container tabCommon"},is={class:"tab-content text-left"},us={id:"cate_1",class:"tab-pane fade active in"},_s={class:"index_pslide"},ps={class:"product_img"},hs=["src"],fs=p(()=>a("span",null,"\u5E02\u5834\u50F9",-1)),vs=p(()=>a("span",null,"\u6703\u54E1\u50F9",-1)),bs=p(()=>a("span",null,"VIP\u50F9",-1)),Cs=p(()=>a("span",null,"SVIP\u50F9",-1)),$s=["onClick"],ks=p(()=>a("button",null,[a("i",{class:"fa-solid fa-cart-shopping"})],-1)),xs=[ks],ws={class:"not-found"},gs={__name:"index",setup(h){const b=R(),I=Q("emap_711",{maxAge:60*60*24}),C={id:-1,name:"\u6240\u6709\u7522\u54C1"},$=_(C.id),m=_([]),k=_([]),x=_([]),w=W();let l=_([]);j($,t=>{if(t===C.id){l=k.value;return}l=k.value.filter(o=>o.categoryId===t)}),F(async()=>{await H(),T(),console.log(I.value)});function T(){E(),N(),V()}async function E(){try{const t=await $fetch(`${b.public.apiBase}/${X}`),{data:o}=t;x.value=o,console.log(o)}catch{}}async function N(){try{const t=await $fetch(`${b.public.apiBase}/${ss}`),{data:o}=t;m.value=[C,...o]}catch{}}async function V(){try{const t=await $fetch(`${b.public.apiBase}/${as}?take=15`),{data:o}=t;k.value=o,l.value=o,console.log(l.value,o)}catch{}}function A(t){const o=w.merch.find(r=>r.id===t.id);o?o.amount++:w.merch.push({...t,amount:1}),console.log(w.merch)}return(t,o)=>{const r=L,D=Y,G=U;return n(),d("div",null,[e(x)?(n(),y(G,{key:0,class:"swiper-root",modules:[e(q),e(z)],"slides-per-view":1,loop:!0,effect:"creative",autoplay:{delay:4e3,disableOnInteraction:!0},"creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:i(()=>[(n(!0),d(g,null,S(e(x),s=>(n(),y(D,{key:s.id},{default:i(()=>[v(r,{to:`${s.href}`},{default:i(()=>[a("img",{src:s.img,alt:""},null,8,ts)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])):M("",!0),a("section",os,[a("div",es,[a("div",ns,[a("ul",cs,[(n(!0),d(g,null,S(e(m),s=>(n(),d("li",{key:s.id,class:J({active:e($)===(s==null?void 0:s.id)}),onClick:f=>$.value=s==null?void 0:s.id},[a("a",rs,c(s.name),1)],10,ls))),128))])])]),a("div",ds,[a("div",is,[a("div",us,[a("div",_s,[(n(!0),d(g,null,S(e(l),s=>(n(),d("div",{key:s.key,class:"product_frame"},[P(a("div",{class:"hot_sale2"},c(s.brief),513),[[B,s==null?void 0:s.brief]]),a("div",ps,[v(r,{to:`/product?id=${s==null?void 0:s.id}`},{default:i(()=>{var f;return[a("img",{src:((f=s==null?void 0:s.thumbnail)==null?void 0:f.url)||`https://picsum.photos/500/500?${s.id}`,alt:""},null,8,hs)]}),_:2},1032,["to"])]),a("h3",null,[v(r,{to:`/product?id=${s==null?void 0:s.id}`},{default:i(()=>[u(c(s.name),1)]),_:2},1032,["to"])]),a("ul",null,[a("li",null,[u(" $"+c(s==null?void 0:s.price)+" ",1),fs]),a("li",null,[u(" $"+c(s==null?void 0:s.memberPrice)+" ",1),vs]),a("li",null,[u(" $"+c(s==null?void 0:s.vipPrice)+" ",1),bs]),a("li",null,[u(" $"+c(s==null?void 0:s.svipPrice)+" ",1),Cs]),a("li",{onClick:f=>A(s)},xs,8,$s)])]))),128)),P(a("span",ws,"\u76EE\u524D\u6C92\u6709\u8A72\u985E\u5225\u7684\u7522\u54C1",512),[[B,!e(l).length]])])])]),v(r,{to:"/shop",class:"btn btn-main btn-large btn-more mt-50"},{default:i(()=>[u(" \u66F4\u591A\u5546\u54C1 ")]),_:1})])])])}}},Is=O(gs,[["__scopeId","data-v-59375507"]]);export{Is as default};
