import{b as p,c as Q,o as W,q as X,_ as m,aa as t,ad as D,y as a,J as H,G as R,ae as l,$ as g,a0 as C,C as u,i as Y,F as A,V as E,ab as tt,a7 as st,ak as at,f as et,Z as v,a3 as ot,al as nt,am as ct,ap as it,aq as dt,a8 as lt,a9 as rt,an as ut}from"./swiper-vue.6d0a2b42.js";import{a as _t,H as pt,F as vt,r as ft,u as ht,S as mt,C as bt}from"./entry.981b651e.js";const c=f=>(lt("data-v-cf2cdd33"),f=f(),rt(),f),gt={class:"full_height mt185ptb30"},Ct={class:"container"},wt={class:"row product_flex"},yt={class:"col-md-6 col-sm-12 single-product-slider"},kt={class:"product_frame"},xt={class:"hot_sale"},St={class:"main_product"},It=["src"],Pt={class:"col-md-6 col-sm-12 single-product-details"},Mt=c(()=>t("ol",{class:"breadcrumb"},[t("li",null,[t("a",{href:"/"},"Home")]),t("li",null,[t("a",{href:"/shop"},"\u7522\u54C1\u4ECB\u7D39")])],-1)),Tt={class:"prod-name",title:"\u7522\u54C1\u540D\u7A31"},$t={id:"productForm",action:"javascript:;"},Nt={class:"product-price mt-0"},Vt=c(()=>t("span",null,"\u5E02\u50F9",-1)),qt=c(()=>t("span",{class:"m_icon"},"$",-1)),Ft=c(()=>t("span",null,"\u6703\u54E1",-1)),Lt=c(()=>t("span",{class:"m_icon"},"$",-1)),Bt={class:"vip_price"},Dt=c(()=>t("span",null,"VIP",-1)),Ht=c(()=>t("span",{class:"m_icon"},"$",-1)),Rt={class:"vip_price"},At=c(()=>t("span",null,"SVIP",-1)),Et=c(()=>t("span",{class:"m_icon"},"$",-1)),Ot={class:"howup_vip"},jt=c(()=>t("i",{class:"fa-regular fa-circle-up"},null,-1)),Gt={class:"nums"},Ut={class:"mt-20 btns"},zt=c(()=>t("i",{class:"fa-solid fa-cart-shopping"},null,-1)),Jt=c(()=>t("i",{class:"fa-solid fa-dollar-sign"},null,-1)),Zt={class:"product_tab mt-20"},Kt={class:"nav nav-tabs"},Qt=["onClick"],Wt={"data-toggle":"tab",href:"javascript:;","aria-expanded":"true"},Xt=st('<div class="tab-content" data-v-cf2cdd33><div id="details" class="tab-pane fade active in" data-v-cf2cdd33><div class="html-container" data-v-cf2cdd33></div></div><div id="tab2" class="tab-pane fade" data-v-cf2cdd33> 2 </div><div id="tab3" class="tab-pane fade" data-v-cf2cdd33> 3 </div><div id="tab4" class="tab-pane fade" data-v-cf2cdd33> 4 </div></div>',1),Yt={__name:"product",setup(f){const i=pt(),O=vt(),w=ft(),j=ht(),G=p([]),e=p({}),y=p(!0),h=p(1),k=p(0),x=Q(()=>{var o;return(o=i.favMerch)==null?void 0:o.find(s=>s.id===e.value.id)});W(async()=>{await X(),await U(),I()});async function U(){var o;try{const s=await $fetch(`${j.public.apiBase}/${mt((o=O.query)==null?void 0:o.id)}`);G.value=s.data;const n=s.data;if(!n)return z();e.value=n}catch(s){console.log(s)}y.value=!1}function z(){w.push({path:"/"})}function S(o){const s=i.merch.find(b=>b.id===o.id),n=h.value;s?s.amount=n:i.merch.push({...o,amount:n});const _=i.merch;i.updateMerch(_)}function J(){i.favMerch.find(n=>n.id===e.value.id)?i.favMerch=i.favMerch.filter(n=>n.id!==e.value.id):i.favMerch.push(e.value);const s=i.favMerch;i.updateFavMerch(s)}function Z(o){S(o);const s=(o==null?void 0:o.attribute)==="COLD_CHAIN"?{type:"cold-chain"}:{};w.push({path:"/cart",query:{...s}})}function I(o=0){var n,_;const s=document.querySelector(".html-container");s.innerHTML=(_=(n=e.value)==null?void 0:n.markdownInfos[o])==null?void 0:_.text,k.value=o}return(o,s)=>{var P,M,T,$,N,V,q,F,L,B;const n=ut,_=at,b=bt,K=et("n-input-number");return v(),m("div",null,[t("section",gt,[t("div",Ct,[t("div",wt,[t("div",yt,[t("div",kt,[t("button",{class:"add_like",onClick:J},[t("i",{class:D(["far fa-heart",{"fa-solid":a(x),"fa-heart":a(x)}])},null,2)]),H(t("div",xt,[t("span",null,l((P=a(e))==null?void 0:P.brief),1)],512),[[R,(M=a(e))==null?void 0:M.brief]]),t("div",St,[g(_,{class:"swiper-root swiper-prod",modules:[a(nt),a(ct),a(it),a(dt)],"slides-per-view":1,loop:!0,"initial-slide":1,effect:"creative",autoplay:{delay:4e3,disableOnInteraction:!0},"creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:C(()=>{var d;return[(v(!0),m(A,null,E((d=a(e))==null?void 0:d.images,r=>(v(),ot(n,{key:r==null?void 0:r.img,class:"swiper-prod-slide"},{default:C(()=>[t("img",{src:r.img,alt:""},null,8,It)]),_:2},1024))),128))]}),_:1},8,["modules"])])])]),t("div",Pt,[Mt,t("h2",Tt,l((T=a(e))==null?void 0:T.name),1),t("form",$t,[t("ul",Nt,[t("li",null,[Vt,qt,u(l((($=a(e))==null?void 0:$.price)||0),1)]),t("li",null,[Ft,Lt,u(l(((N=a(e))==null?void 0:N.memberPrice)||0),1)]),t("li",Bt,[Dt,Ht,u(l(((V=a(e))==null?void 0:V.vipPrice)||0),1)]),t("li",Rt,[At,Et,u(l(((q=a(e))==null?void 0:q.svipPrice)||0),1)])]),t("span",Ot,[jt,g(b,{to:"/profile"},{default:C(()=>[u("\u6211\u8981\u5347\u7B49")]),_:1})]),t("div",Gt,[H(g(K,{value:a(h),"onUpdate:value":s[0]||(s[0]=d=>Y(h)?h.value=d:null),min:1,style:{width:"150px"}},null,8,["value"]),[[R,!a(y)]]),t("span",null,"\u5EAB\u5B58\uFF1A"+l(((L=(F=a(e))==null?void 0:F.inventory)==null?void 0:L.quantity)||0),1)]),t("div",Ut,[t("button",{class:"btn btn-main btn-bag",onClick:s[1]||(s[1]=d=>S(a(e)))},[zt,u("\u52A0\u5165\u8CFC\u7269\u8ECA ")]),t("button",{type:"submit",class:"go_cart btn btn-main btn-check",onClick:s[2]||(s[2]=d=>Z(a(e)))},[Jt,u(" \u7ACB\u5373\u7D50\u5E33 ")])])])])]),t("div",Zt,[t("ul",Kt,[(v(!0),m(A,null,E((B=a(e))==null?void 0:B.markdownInfos,(d,r)=>(v(),m("li",{key:d.title,class:D({active:a(k)===r}),onClick:ts=>I(r)},[t("a",Wt,l(d.title),1)],10,Qt))),128))]),Xt]),tt("",!0)])])])}}},es=_t(Yt,[["__scopeId","data-v-cf2cdd33"]]);export{es as default};
