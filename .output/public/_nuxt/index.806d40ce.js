import{a as O,u as R,F as L,k as F,c as M,f as j,B as q}from"./entry.0d24aa84.js";import{b as u,w as H,o as U,q as z,_ as d,y as o,a3 as T,a0 as _,ab as J,aa as a,F as y,V as S,J as B,G as P,$ as v,aj as Y,Z as n,ak as Z,al as K,ad as Q,ae as c,C as i,am as W,a8 as X,a9 as ss}from"./swiper-vue.cf16a99e.js";import{u as as}from"./cookie.425352c2.js";const p=h=>(X("data-v-0dc875c5"),h=h(),ss(),h),ts=["src"],es={class:"text-center full_height"},os={class:"sub_menubar"},ns={class:"container tabCommon"},cs={class:"nav nav-tabs bbottom_none labels-flex"},ls=["onClick"],rs={href:"javascript:;","data-toggle":"tab"},ds={class:"container tabCommon"},_s={class:"tab-content text-left"},is={id:"cate_1",class:"tab-pane fade active in"},us={class:"index_pslide"},ps={class:"product_img"},hs=["src"],fs=p(()=>a("span",null,"\u5E02\u5834\u50F9",-1)),vs=p(()=>a("span",null,"\u6703\u54E1\u50F9",-1)),bs=p(()=>a("span",null,"VIP\u50F9",-1)),Cs=p(()=>a("span",null,"SVIP\u50F9",-1)),ks=["onClick"],xs=p(()=>a("button",null,[a("i",{class:"fa-solid fa-cart-shopping"})],-1)),$s=[xs],ws={class:"not-found"},gs={__name:"index",setup(h){const b=R(),E=as("emap_711",{maxAge:60*60*24}),C={id:-1,name:"\u6240\u6709\u7522\u54C1"},k=u(C.id),I=u([]),x=u([]),$=u([]),f=L();let l=u([]);H(k,t=>{if(t===C.id){l=x.value;return}l=x.value.filter(e=>e.categoryId===t)}),U(async()=>{await z(),N(),console.log(E.value)});function N(){V(),m(),A()}async function V(){try{const t=await $fetch(`${b.public.apiBase}/${F}`),{data:e}=t;$.value=e,console.log(e)}catch{}}async function m(){try{const t=await $fetch(`${b.public.apiBase}/${M}`),{data:e}=t;I.value=[C,...e]}catch{}}async function A(){try{const t=await $fetch(`${b.public.apiBase}/${j}?take=30`),{data:e}=t;x.value=e,l.value=e,console.log(l.value,e)}catch{}}function D(t){const e=f.merch.find(w=>w.id===t.id);e?e.amount++:f.merch.push({...t,amount:1});const r=f.merch;f.updateMerch(r)}return(t,e)=>{const r=q,w=W,G=Y;return n(),d("div",null,[o($)?(n(),T(G,{key:0,class:"swiper-root",modules:[o(Z),o(K)],"slides-per-view":1,loop:!0,effect:"creative",autoplay:{delay:4e3,disableOnInteraction:!0},"creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:_(()=>[(n(!0),d(y,null,S(o($),s=>(n(),T(w,{key:s.id},{default:_(()=>[v(r,{to:`${s.href}`},{default:_(()=>[a("img",{src:s.img,alt:""},null,8,ts)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])):J("",!0),a("section",es,[a("div",os,[a("div",ns,[a("ul",cs,[(n(!0),d(y,null,S(o(I),s=>(n(),d("li",{key:s.id,class:Q({active:o(k)===(s==null?void 0:s.id)}),onClick:g=>k.value=s==null?void 0:s.id},[a("a",rs,c(s.name),1)],10,ls))),128))])])]),a("div",ds,[a("div",_s,[a("div",is,[a("div",us,[(n(!0),d(y,null,S(o(l),s=>{var g;return B((n(),d("div",{key:s.key,class:"product_frame"},[B(a("div",{class:"hot_sale2"},c(s.brief),513),[[P,s==null?void 0:s.brief]]),a("div",ps,[v(r,{to:`/product?id=${s==null?void 0:s.id}`},{default:_(()=>[a("img",{src:s==null?void 0:s.coverImg,alt:""},null,8,hs)]),_:2},1032,["to"])]),a("h3",null,[v(r,{to:`/product?id=${s==null?void 0:s.id}`},{default:_(()=>[i(c(s.name),1)]),_:2},1032,["to"])]),a("ul",null,[a("li",null,[i(" $"+c(s==null?void 0:s.price)+" ",1),fs]),a("li",null,[i(" $"+c(s==null?void 0:s.memberPrice)+" ",1),vs]),a("li",null,[i(" $"+c(s==null?void 0:s.vipPrice)+" ",1),bs]),a("li",null,[i(" $"+c(s==null?void 0:s.svipPrice)+" ",1),Cs]),a("li",{onClick:ys=>D(s)},$s,8,ks)])])),[[P,((g=s==null?void 0:s.inventory)==null?void 0:g.quantity)>=1]])}),128)),B(a("span",ws,"\u76EE\u524D\u6C92\u6709\u8A72\u985E\u5225\u7684\u7522\u54C1",512),[[P,!o(l).length]])])])]),v(r,{to:"/shop?category=-1",class:"btn btn-main btn-large btn-more mt-20 more-prod"},{default:_(()=>[i(" \u66F4\u591A\u5546\u54C1 ")]),_:1})])])])}}},Is=O(gs,[["__scopeId","data-v-0dc875c5"]]);export{Is as default};
