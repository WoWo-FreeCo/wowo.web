import{a as L,u as O,k as j}from"./entry.27c155a0.js";import{b as f,w as U,o as F,q as H,_,y as n,a3 as y,a0 as c,ab as M,aa as t,F as w,V as m,J as P,G as B,$ as u,ai as q,Z as l,aj as z,ak as J,ad as Y,ae as r,C as p,al as Z,a8 as K,a9 as Q}from"./swiper-vue.ba6f8b0a.js";import{u as W}from"./cookie.b23b16b5.js";import{u as X}from"./cartStore.42d3b07f.js";import{h as ss,a as ts,b as as}from"./requestURL.06cc9186.js";const I=""+new URL("1.bcb2cf70.jpg",import.meta.url).href;const d=h=>(K("data-v-1cbf19fa"),h=h(),Q(),h),os=["src"],es={class:"text-center full_height"},ns={class:"sub_menubar"},cs={class:"container tabCommon"},ls={class:"nav nav-tabs bbottom_none labels-flex"},rs=["onClick"],ds={href:"javascript:;","data-toggle":"tab"},is={class:"container tabCommon"},_s={class:"tab-content text-left"},us={id:"cate_1",class:"tab-pane fade active in"},ps={class:"index_pslide"},fs={class:"product_img"},hs=["src"],vs=d(()=>t("span",null,"\u5E02\u5834\u50F9",-1)),bs=d(()=>t("span",null,"\u6703\u54E1\u50F9",-1)),Cs=d(()=>t("span",null,"VIP\u50F9",-1)),xs=d(()=>t("span",null,"SVIP\u50F9",-1)),$s=["onClick"],gs=d(()=>t("button",null,[t("i",{class:"fa-solid fa-cart-shopping"})],-1)),ks=[gs],ws={class:"not-found"},ms={class:"index_ad"},Ss=d(()=>t("img",{src:I,alt:""},null,-1)),ys=d(()=>t("img",{src:I,alt:""},null,-1)),Ps={__name:"index",setup(h){const b=O(),T=W("emap_711",{maxAge:60*60*24}),C={id:-1,name:"\u6240\u6709\u7522\u54C1"},x=f(C.id),S=f([]),$=f([]),g=f([]),k=X();let i=f([]);U(x,a=>{if(a===C.id){i=$.value;return}i=$.value.filter(o=>o.categoryId===a)}),F(async()=>{await H(),E(),console.log(T.value)});function E(){N(),V(),R()}async function N(){try{const a=await $fetch(`${b.public.apiBase}/${ss}`),{data:o}=a;g.value=o,console.log(o)}catch{}}async function V(){try{const a=await $fetch(`${b.public.apiBase}/${ts}`),{data:o}=a;S.value=[C,...o]}catch{}}async function R(){try{const a=await $fetch(`${b.public.apiBase}/${as}`),{data:o}=a;$.value=o,i.value=o,console.log(i.value,o)}catch{}}function A(a){const o=k.merch.find(e=>e.id===a.id);o?o.amount++:k.merch.push({...a,amount:1}),console.log(k.merch)}return(a,o)=>{const e=j,D=Z,G=q;return l(),_("div",null,[n(g)?(l(),y(G,{key:0,class:"swiper-root",modules:[n(z),n(J)],"slides-per-view":1,loop:!0,effect:"creative",autoplay:{delay:4e3,disableOnInteraction:!0},"creative-effect":{prev:{shadow:!1,translate:["-20%",0,-1]},next:{translate:["100%",0,0]}}},{default:c(()=>[(l(!0),_(w,null,m(n(g),s=>(l(),y(D,{key:s.id},{default:c(()=>[u(e,{to:`${s.href}`},{default:c(()=>[t("img",{src:s.img,alt:""},null,8,os)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])):M("",!0),t("section",es,[t("div",ns,[t("div",cs,[t("ul",ls,[(l(!0),_(w,null,m(n(S),s=>(l(),_("li",{key:s.id,class:Y({active:n(x)===(s==null?void 0:s.id)}),onClick:v=>x.value=s==null?void 0:s.id},[t("a",ds,r(s.name),1)],10,rs))),128))])])]),t("div",is,[t("div",_s,[t("div",us,[t("div",ps,[(l(!0),_(w,null,m(n(i),s=>(l(),_("div",{key:s.key,class:"product_frame"},[P(t("div",{class:"hot_sale2"},r(s.brief),513),[[B,s==null?void 0:s.brief]]),t("div",fs,[u(e,{to:`/product?id=${s==null?void 0:s.id}`},{default:c(()=>{var v;return[t("img",{src:((v=s==null?void 0:s.thumbnail)==null?void 0:v.url)||"/products/p"+(s.id-10)+".jpg",alt:""},null,8,hs)]}),_:2},1032,["to"])]),t("h3",null,[u(e,{to:`/product?id=${s==null?void 0:s.id}`},{default:c(()=>[p(r(s.name),1)]),_:2},1032,["to"])]),t("ul",null,[t("li",null,[p(" $"+r(s==null?void 0:s.price)+" ",1),vs]),t("li",null,[p(" $"+r(s==null?void 0:s.memberPrice)+" ",1),bs]),t("li",null,[p(" $"+r(s==null?void 0:s.vipPrice)+" ",1),Cs]),t("li",null,[p(" $"+r(s==null?void 0:s.svipPrice)+" ",1),xs]),t("li",{onClick:v=>A(s)},ks,8,$s)])]))),128)),P(t("span",ws,"\u76EE\u524D\u6C92\u6709\u8A72\u985E\u5225\u7684\u7522\u54C1",512),[[B,!n(i).length]])])])]),u(e,{to:"/shop",class:"btn btn-main btn-large btn-more mt-50"},{default:c(()=>[p(" \u66F4\u591A\u5546\u54C1 ")]),_:1})])]),t("div",ms,[u(e,{to:"/bid"},{default:c(()=>[Ss]),_:1}),u(e,{to:"/bid"},{default:c(()=>[ys]),_:1})])])}}},Vs=L(Ps,[["__scopeId","data-v-1cbf19fa"]]);export{Vs as default};
