import{a as M,u as Y,j as Z,k as K}from"./entry.9c028c87.js";import{b as d,o as Q,q as W,_ as u,aa as o,y as a,ad as S,F as B,V,ae as r,J as L,G as N,Z as _,$ as b,a0 as k,C as p,a8 as X,a9 as ss}from"./swiper-vue.d582d122.js";import{u as os}from"./cartStore.459aa100.js";import{a as as,c as D}from"./requestURL.b854792f.js";const h=$=>(X("data-v-436f3380"),$=$(),ss(),$),ts={class:"full_height mt-120"},es={class:"row"},cs={class:"col-sm-3 p-0 bg_left2"},ns={id:"accordion",class:"panel-group commonAccordion",role:"tablist","aria-multiselectable":"true"},ls={class:"panel panel-default"},rs={id:"headingOne",class:"panel-heading",role:"tab"},is={class:"panel-title"},ds={class:"col-sm-9 pl20pr30"},us={class:"breadcrumb"},_s=h(()=>o("li",null,[o("a",{href:"/"},"Home")],-1)),ps=h(()=>o("li",null,"\u7522\u54C1\u4ECB\u7D39",-1)),hs={class:"active"},fs={class:"row"},vs={class:"flex-row col-lg-4 col-md-6 col-sm-12"},gs={class:"hot_sale2"},$s={class:"product_img"},ys=["src"],Cs=h(()=>o("span",null,"\u5E02\u5834\u50F9",-1)),bs=h(()=>o("span",null,"\u6703\u54E1\u50F9",-1)),ks=h(()=>o("span",null,"VIP\u50F9",-1)),Ps=h(()=>o("span",null,"SVIP\u50F9",-1)),xs=["onClick"],Is=h(()=>o("i",{class:"fa-solid fa-cart-shopping"},null,-1)),ws=[Is],qs={class:"not-found"},Ts={class:"text-center"},ms={class:"pagination post-pagination"},Ss={__name:"shop",setup($){const y=Y(),c=Z(),O={id:-1,name:"\u6240\u6709\u7522\u54C1"},v=d(O.id),R=d(1),C=d([]),P=d(1),x=d([]),j=d([]),I=os(),w=d(!1),q=d([]);Q(async()=>{await W(),F()});function F(){U(),T()}async function U(){var n,e,t;try{const i=(n=c.query)==null?void 0:n.category,s=await $fetch(`${y.public.apiBase}/${as}`),{data:l}=s;let f=`categoryId=${i}`;(((e=c.query)==null?void 0:e.category)==="-1"||!((t=c.query)!=null&&t.category))&&(f="");const g=await $fetch(`${y.public.apiBase}/${D}?take=200&${f}`);C.value=g.data,P.value=parseInt(C.value.length/6)+1,x.value=[O,...l]}catch{}}async function T(n,e){var t,i,s,l,f;try{const g=n||((t=c.query)==null?void 0:t.category),A=e||((i=c.query)==null?void 0:i.page)||1,E=6;v.value=g||-1,R.value=A;let m=`categoryId=${g}`;(n===-1||((s=c.query)==null?void 0:s.category)==="-1"||!((l=c.query)!=null&&l.category))&&(m=""),console.log((f=c.query)==null?void 0:f.category);const H=await $fetch(`${y.public.apiBase}/${D}?take=${E}&${m}&skip=${(A-1)*E}`),{data:G}=H;j.value=G,q.value=G;const J=await $fetch(`${y.public.apiBase}/${D}?take=200&${m}`);C.value=J.data,P.value=parseInt(C.value.length/6)+1}catch{}}function z(n){const e=I.merch.find(t=>t.id===n.id);e?e.amount++:I.merch.push({...n,amount:1}),console.log(I.merch)}return(n,e)=>{var i;const t=K;return _(),u("div",ts,[o("div",es,[o("div",cs,[o("div",ns,[o("div",ls,[o("div",rs,[o("h4",is,[o("a",{role:"button",href:"javascript:;",onClick:e[0]||(e[0]=s=>w.value=!a(w))}," \u7522\u54C1\u985E\u5225 ")])]),o("div",{id:"tab-collapse-area",class:S([{inactive:a(w)},"panel-collapse collapse in"]),role:"tabpanel","aria-labelledby":"headingOne"},[o("ul",null,[(_(!0),u(B,null,V(a(x),s=>{var l;return _(),u("li",{key:s.id,class:S({active:((l=a(c).query)==null?void 0:l.category)==s.id||a(v)===s.id})},[b(t,{to:`/shop?category=${s.id}`,onClick:f=>T(s.id,1)},{default:k(()=>[p(r(s.name),1)]),_:2},1032,["to","onClick"])],2)}),128))])],2)])])]),o("div",ds,[o("ol",us,[_s,ps,o("li",hs,r((i=a(x).find(s=>s.id===a(v)))==null?void 0:i.name),1)]),o("div",fs,[o("div",vs,[(_(!0),u(B,null,V(a(q),s=>(_(),u("div",{key:s.id,class:"product_frame"},[L(o("div",gs,[o("span",null,r(s.brief),1)],512),[[N,s.brief]]),o("div",$s,[b(t,{to:`/product?id=${s.id}`},{default:k(()=>[o("img",{src:s==null?void 0:s.coverImg,alt:""},null,8,ys)]),_:2},1032,["to"])]),o("h3",null,[b(t,{to:`/product?id=${s.id}`},{default:k(()=>[p(r(s.name),1)]),_:2},1032,["to"])]),o("ul",null,[o("li",null,[p(" $"+r(s==null?void 0:s.price)+" ",1),Cs]),o("li",null,[p(" $"+r(s==null?void 0:s.memberPrice)+" ",1),bs]),o("li",null,[p(" $"+r(s==null?void 0:s.vipPrice)+" ",1),ks]),o("li",null,[p(" $"+r(s==null?void 0:s.svipPrice)+" ",1),Ps]),o("li",null,[o("button",{onClick:l=>z(s)},ws,8,xs)])])]))),128))])]),L(o("span",qs,"\u76EE\u524D\u6C92\u6709\u8A72\u985E\u5225\u7684\u7522\u54C1",512),[[N,!a(q).length]]),o("div",Ts,[o("ul",ms,[(_(!0),u(B,null,V(a(P),s=>(_(),u("li",{key:s,class:S({active:a(R)==s})},[b(t,{to:`/shop?category=${a(v)}&page=${s}`,onClick:l=>T(a(v),s)},{default:k(()=>[p(r(s),1)]),_:2},1032,["to","onClick"])],2))),128))])])])])])}}},Rs=M(Ss,[["__scopeId","data-v-436f3380"]]);export{Rs as default};
