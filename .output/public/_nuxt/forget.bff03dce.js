import{_ as g}from"./client-only.50bb6e23.js";import{m as b,f as y,g as v,h as T,u as w,t as k,v as S}from"./entry.722f1d14.js";import{b as x,o as B,a3 as C,a0 as R,Z as $,aa as t,J as d,ah as p,y as n,C as m}from"./swiper-vue.2e988726.js";const E={class:"full_height mt185ptb30"},I={class:"container"},L=t("h3",{class:"login_tl"},[m(" \u5FD8\u8A18\u5BC6\u78BC"),t("br"),m("Forget password ")],-1),P={class:"contact-form"},V={id:"",method:"post",action:"javascript:;"},q={class:"form-group"},F={class:"form-group"},A={__name:"forget",setup(G){const f=b(),c=y(),r=v();T();const l=w(),s=x({email:"",password:""});B(async()=>{const e=localStorage.getItem("accessToken"),o=localStorage.getItem("refreshToken");if(e){try{await $fetch(`${l.public.apiBase}/${k}`,{method:"GET",headers:{Authorization:"Bearer "+e}}),r.loginSuccess(e,o)}catch{r.logout()}u()}});async function h(){try{const e=await $fetch(`${l.public.apiBase}/${S}`,{method:"POST",body:s.value});console.log(e),_(e.data)}catch(e){e.statusCode&&alert("\u8ACB\u8F38\u5165\u6B63\u78BA\u7684\u5E33\u865F\u53CA\u5BC6\u78BC")}}function _(e){const{accessToken:o,refreshToken:a}=e;r.loginSuccess(o,a),u()}function u(){var o;const e=(o=f.query)==null?void 0:o.redirect;e?c.push({path:e}):c.push({path:"/profile"})}return(e,o)=>{const a=g;return $(),C(a,null,{default:R(()=>[t("section",E,[t("div",I,[L,t("div",P,[t("form",V,[t("div",q,[d(t("input",{id:"input-field-email","onUpdate:modelValue":o[0]||(o[0]=i=>n(s).email=i),type:"email",placeholder:"Email*",class:"form-control",name:"",required:""},null,512),[[p,n(s).email]])]),t("div",F,[d(t("input",{id:"input-field-password","onUpdate:modelValue":o[1]||(o[1]=i=>n(s).password=i),autocomplete:"",type:"password",placeholder:"\u5BC6\u78BC*",class:"form-control",name:"",required:""},null,512),[[p,n(s).password]])]),t("div",{class:"text-center"},[t("input",{id:"input-field-submit",type:"submit",class:"btn btn-main btn-bag",value:"\u9001\u51FA",onClick:h})])])])])])]),_:1})}}};export{A as default};
