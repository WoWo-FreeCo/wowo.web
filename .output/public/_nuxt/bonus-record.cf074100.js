import{_ as S,a as T}from"./ProfileSidebar.ac088ac1.js";import{b as $,r as k,q as v,u as E,F as w,B as D}from"./entry.e0dd610b.js";import{d as A}from"./dayjs.min.fdce97be.js";import{B as o}from"./common.2876555a.js";import{b as C,u as F,_ as i,$ as m,aa as t,C as I,ae as n,y as d,ab as p,F as N,V as U,Z as u}from"./swiper-vue.6d0a2b42.js";import"./pageStatusStore.109f1dfe.js";const V={class:"full_height mt185ptb30 pt0"},P={class:"row"},Y={class:"col-sm-9 pl20pr30"},x={class:"level_tl border_bottom pb20"},G=t("span",null,"\u76EE\u524D\u53EF\u4F7F\u7528\u7D05\u5229\uFF1A",-1),M={class:"member_table"},O=t("thead",null,[t("tr",null,[t("th",null," \u7570\u52D5\u65E5\u671F "),t("th",null," \u7570\u52D5\u8AAA\u660E "),t("th",null," \u9EDE\u6578 ")])],-1),q={"data-th":"\u7570\u52D5\u65E5\u671F"},z={"data-th":"\u7570\u52D5\u8AAA\u660E"},L={"data-th":"\u9EDE\u6578"},X={__name:"bonus-record",setup(j){$();const f=k(),a=v(),l=E(),_=C([]);F(()=>{a.status.loggedIn||f.push({path:"/login",query:{redirect:"/bonus-record"}}),g()});async function g(){try{const e=await $fetch(`${l.public.apiBase}/${w}`,{headers:{authorization:"Bearer "+localStorage.getItem("accessToken")}});_.value=e.data,console.log(e)}catch(e){console.log(e)}b()}async function b(){try{const e=localStorage.getItem("accessToken"),r=localStorage.getItem("refreshToken"),c=await $fetch(`${l.public.apiBase}/${D}`,{method:"GET",headers:{Authorization:"Bearer "+e}});a.loginSuccess(e,r),a.updateUser(c.data)}catch{a.logout()}}function y(e){return A(e).format("YYYY/MM/DD A hh:mm")}function B(e){switch(e){case o.Redeem:return"\u4F7F\u7528\u7D05\u5229";case o.Reward:return"\u6D88\u8CBB\u56DE\u994B";case o.Upgrad:return"\u6703\u54E1\u5347\u7D1A";case o.Register:return"\u6703\u54E1\u8A3B\u518A";default:return"\u672A\u5B9A\u7FA9"}}return(e,r)=>{var h;const c=S,R=T;return u(),i("div",V,[m(c),t("div",P,[m(R),t("div",Y,[t("h3",x,[G,I(n((h=d(a).user)==null?void 0:h.rewardCredit)+"\u9EDE ",1),p("",!0)]),t("table",M,[O,t("tbody",null,[(u(!0),i(N,null,U(d(_),s=>(u(),i("tr",{key:s==null?void 0:s.id},[t("td",q,n(y(s==null?void 0:s.createdAt)),1),t("td",z,n(B(s==null?void 0:s.activityType)),1),t("td",L,n(s==null?void 0:s.points),1)]))),128))])]),p("",!0)])])])}}};export{X as default};
